# linux软件安装

## # 软件包介绍 ##

### 源码包 ###

可以看到源码(开源)，功能选择灵活，如果有能力可以自己更改源码，安装要经过编译(源码编译成为二进制码)所以安装时间长。性能比RPM包(二进制包)好，所以一般安装给客户用

### RPM包(系统默认包) ###

包管理系统简单，只通过几个命令就可以实现包的安装、升级、查询和卸载；安装速度比源码包安装速度快得多。但是不可以看到源码，功能选择不如源码灵活，有依赖性。性能不如源码包好，一般安装给linux自己用

注：所有RPM包都在/mnt/cdrom/Packages/目录下（所以没有光盘就就没有RPM包）

1. 它的命名规则
   例举：httpd-2.2.15-15.el6.centos.1.i686.rpm
   httpd：软件包名
   2.2.15：软件版本
   15：软件发布的次数
   el6.centos: 适合的linux平台
   i686适合的软件平台
   rpm: rpm软件包扩展名

### 脚本包(本身没有这种包) ###

别人将复杂得源码包安装过程写成程序脚本，初学者可以执行脚本实现一键安装，但实际安装的还是源码包或者二进制包(RPM包)，这种安装方式是简单快捷，但是完全丧失了自定义性

## # 软件包命令管理 #

### RPM包命令管理 ###

1. 软件未安装的话，对其进行操作必须使用包全名(例：httpd-2.2.15-15.el6.centos.1.i686.rpm)
   安装过的软件可以只使用软件包名调用(例：httpd)，这是因为已经安装过的rpm软件都可以在'/var/lib/rpm/'数据库中找到。

2. rpm安装
  命令：rpm -ivh 包全名(包含路径)   (依赖性会让人烦死，所以一般使用yum安装代替，但是也应该掌握(yum安装的就是rpm包))
  选项：
  -i(install) ：安装
  -v(verbose) ：显示详细信息
  -h(hash)    ：显示进度
  --nodeps    ：不检测依赖性(不使用)

3. rpm包升级
  格式：rpm -Uvh 包全名  （如果没有安装过该软件，这个命令将会执行安装操作(前提是系统中有该软件安装包)）
  选项：-U(upgrade)：升级   (其余选项和安装一样)

4. 卸载
  命令：rpm -e 包名
  选项：
  -e(erase) : 卸载
  --nodeps  : 不检测依赖性  (不许使用，因为卸了不管依赖它的包就会失效)

5. rpm包查询(通过yum安装的包也是要通过rpm的查询方式来查询的)
查询包是否安装：rpm -q 包名
查询所有已经安装的rpm包：rpm -qa
查询软件包的详细信息：rpm -qi 包名     选项：-i:查询软件信息，-p:查询未安装包的信息
查询包中文件安装的位置：rpm -ql 包名   选项：-l:列表(list)，-p:查询未安装包的信息   (带上-p选项可以查询未安装的包的安装位置，但是要使用包全名)
查询系统文件属于哪个rpm包：rpm -qf 系统文件名   选项：-f:查询系统文件属于哪个软件包(文件属于npm包安装的)
查询软件包的依赖信息：rpm -qR 包名 (不建议使用，因为会列出很多可能已经有的依赖，反而不好排除，就应该直接通过安装的时候报的依赖错误提示进行安装)

6. rpm包检验
命令：rpm -V 已经安装的包名     选项：-V:检验指定rpm包中的文件(verify)
  返回的检验值：
  例：S.5....T. c(文件类型) 文件名(被修改的文件名，含路径)
  解析例：
  S : 文件大小是否被改变
  M ：文件的类型或文件的权限是否被改变(rwx)是否被改变
  5 ：文件MD5校验和是否改变(可以看成文件内容是否被改变)
  D ：设备的主从代码是否改变
  L ：文件路径是否改变
  U ：文件的所有者是否改变
  T ：文件的修改时间是否改变
  c : 文件类型(c:配置文件，d:普通文件，g:"鬼文件"很少见就是该文件不应该被这个rpm包包容，L:授权文件，r:描述文件)

rpm包中文件提取
rpm2cpio 包全名 | cpio -idv .文件的绝对路径
 -rpm2cpio : 将rpm包转换为cpio格式的命令
 -cpio : 是一个标准工具，它用于创建软件档案文件和从档案文件中提取文件
知识点补充：
cpio 选项 < [文件|设备]
选项 ：-i:copy-in模式，还原，-d:还原时自动新建目录，-v:显示还原过程

7. yum命令
yum list : 查询所有可以安装的软件包列表
yum seatch 关键字 : 搜索服务器上所有和关键字有关的包

8. yum安装命令
yum -y install 包名（无需使用包全名）
选项：
install : 安装
-y ：自动回答yes

9. yum升级命令(尽量不做，会停止服务，如果有用户要踢出用户，除非很大漏洞，否则不轻易升级)
yum -y update 包名

重点注意：yum -y update（将会更新linux内核，一旦使用这条命令，linux肯定崩溃，应该将其归为禁用命令处理）

10. yum卸载命令
yum -y remove 包名

服务器管理原则(前辈总结)：服务器尽量使用最小化安装，用什么软件安装什么软件，尽量不卸载（因为卸载的时候也有依赖性）。(初学者谨记)

11. yum软件组管理命令
yum grouplist : 列出所有可用的软件组列表
yum groupinstall 软件组名 ：安装指定软件组，组名可以由grouplist得到
yum groupremove 软件组名 ： 卸载指定软件组
